# Linux 服务器最简单的自动维护方法

#### 关于维护原理

计算机在使用过程中会由于内存与硬盘的不断读写而产生各种不连续的数据碎片，使得资源被占据。在结束任务时也不能确保资源能被完美地 100% 释放，这就导致数据碎片会随着计算机的运行时间的不断增加而不断增加，如果不能及时清理这些碎片，就会导致计算机内存被占满，使计算机的运算速率变慢，最直观的表现就是我们进行的某一项操作需要经过一段比以往长的时间才能被执行，也就是计算机变卡了。

计算机在重启的时候会释放掉内存中的所有数据，所以在重启后，计算机相对来说会变得非常流畅，本次要实现的自动维护就跟重启有关。

在 Linux 系统中，有一个内置的定时任务系统，这个系统名叫 crontab，使用这个系统，可以让计算机在特定的时间执行指定的任务。

如果我们使用 crontab 设定一条指令，让服务器在使用低峰期自动重启，那就能实现定时清理内存的目的，也就不需要等到服务器内存被占满后死机再处理了，就能实现自动维护的目标。

而 Linux 系统的重启操作非常简单，只需要在终端中执行 reboot 命令就可以实现重启。实现自动维护具体的操作如下：

1. 连接服务器，在终端中输入 

   ` crontab -e`

2. 另起一行输入

   `0 4 * * * reboot`

   crontab 的命令格式排序为 分 时 日 月 周 命令，用一个空格分隔各个部位，可以使用 * 号代表任意，所以上述命令的含义就是 `在 任意 月 任意 日 4 时 0 分 执行 reboot 命令`，也就是每天 4 点重启一次。

3. 输入 !wq 保存并退出编辑器

上述就是 Linux 系统实现自动维护的操作步骤。当然 crontab 不是只能用来执行 reboot 命令，只要是 Linux 操作系统可以运行的命令都可以使用 crontab 进行设定，使其到指定的时间执行。